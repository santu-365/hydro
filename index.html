 <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <a href="#home" class="footer-logo" aria-label="HydroBottles Homepage" data-magnetic>
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 0C26.5 0 10 20.8333 10 41.6667C10 66.6667 50 100 50 100C50 100 90 66.6667 90 41.6667C90 20.8333 73.5 0 50 0ZM50 58.3333C41.25 58.3333 34.1667 51.25 34.1667 42.5C34.1667 33.75 41.25 26.6667 50 26.6667C58.75 26.6667 65.8333 33.75 65.8333 42.5C65.8333 51.25 58.75 58.3333 50 58.3333Z" fill="white"/>
                        </svg>
                        <h2>Hydro<span>Bottles</span></h2>
                    </a>
                    <p style="color: var(--primary-lighter);">Premium bottles for a hydrated life.</p>
                    <div class="footer-socials">
                        <a href="#" aria-label="Facebook" data-magnetic><svg><use href="#icon-facebook"></use></svg></a>
                        <a href="#" aria-label="Instagram" data-magnetic><svg><use href="#icon-instagram"></use></svg></a>
                        <a href="#" aria-label="Twitter" data-magnetic><svg><use href="#icon-twitter"></use></svg></a>
                    </div>
                </div>
                 <div class="footer-column">
                    <h4>Shop</h4>
                    <ul>
                        <li><a href="#products" data-magnetic>All Products</a></li>
                        <li><a href="#customizer" data-magnetic>Customize</a></li>
                        <li><a href="#join-club" data-magnetic>Hydro Club</a></li>
                        <li><a href="#" data-magnetic>Gift Cards</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#faq" data-magnetic>FAQ</a></li>
                        <li><a href="#contact" data-magnetic>Contact Us</a></li>
                        <li><a href="#" data-magnetic>Shipping & Returns</a></li>
                        <li><a href="#" data-magnetic>Warranty</a></li>
                    </ul>
                </div>
                 <div class="footer-column">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="#about" data-magnetic>About Us</a></li>
                        <li><a href="#" data-magnetic>Sustainability</a></li>
                        <li><a href="#" data-magnetic>Careers</a></li>
                        <li><a href="#" data-magnetic>Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 HydroBottles Co. All Rights Reserved. | Website by Santosh Teli</p>
            </div>
        </div>
    </footer>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroBottles Co. - Futuristic Hydration Solutions</title>
    <meta name="description" content="Experience the future of hydration. Discover our collection of premium, customizable, and eco-friendly smart water bottles. Hydro Bottles Co. offers durable and stylish bottles to keep you hydrated on the go.">
    
    <style>
        /*
        ========================================
        CSS Variables (Design System)
        ========================================
        */
        :root {
            --primary-color: #0096c7;
            --primary-light: #48cae4;
            --primary-lighter: #ade8f4;
            --primary-lightest: #caf0f8;
            
            --secondary-color: #023e8a;
            --secondary-dark: #03045e;
            
            --text-light: #f8f9fa;
            --text-dark: #212529;
            --text-muted: #6c757d;
            
            --background-light: #f8f9fa;
            --background-white: #ffffff;
            --background-dark: #121212;
            
            --accent-success: #2a9d8f;
            --accent-danger: #e76f51;
            --accent-glow: #ade8f4;
            
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
            
            --border-radius-sm: 5px;
            --border-radius-md: 10px;
            --border-radius-lg: 30px;
            
            --font-family-base: 'Segoe UI', 'Roboto', Tahoma, Geneva, Verdana, sans-serif;
            
            --transition-speed: 0.3s;
            --transition-speed-fast: 0.2s;
            --transition-speed-slow: 0.5s;
        }

        /*
        ========================================
        Reset and Base Styles
        ========================================
        */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--background-light);
            color: var(--text-dark);
            line-height: 1.6;
            font-family: var(--font-family-base);
            overflow-x: hidden; /* Prevent horizontal scroll from animations */
            cursor: none; /* Hide default cursor */
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            padding: 6rem 0;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
            font-size: 2.8rem;
            color: var(--secondary-color);
            font-weight: 700;
        }
        
        .section-subtitle {
            text-align: center;
            margin-top: -3.5rem;
            margin-bottom: 4rem;
            color: var(--text-muted);
            font-size: 1.1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Animation class for scroll trigger */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /*
        ========================================
        Custom Cursor & Magnetic Elements
        ========================================
        */
        .custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 25px;
            height: 25px;
            border: 2px solid var(--primary-color);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background-color 0.3s, border-color 0.3s;
        }

        .custom-cursor.hovered {
            width: 50px;
            height: 50px;
            background-color: rgba(0, 150, 199, 0.2);
            border-color: var(--primary-light);
        }

        .custom-cursor.clicked {
            transform: translate(-50%, -50%) scale(0.8);
        }

        [data-magnetic] {
            transition: transform var(--transition-speed-slow) cubic-bezier(0.19, 1, 0.22, 1);
        }
        
        /*
        ========================================
        Header & Navigation
        ========================================
        */
        header {
            background-color: rgba(0, 150, 199, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            padding: 1rem 0;
            box-shadow: none;
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color var(--transition-speed);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logo svg {
            width: 40px;
            height: 40px;
            transition: transform 0.4s ease;
        }
        .logo:hover svg {
            transform: rotate(360deg);
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-light);
        }
        
        .logo h1 span {
            font-weight: 300;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 2.5rem;
        }
        
        nav ul li a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            padding-bottom: 5px;
            position: relative;
            overflow: hidden;
        }
        
        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background-color: var(--primary-lightest);
            transition: left var(--transition-speed) ease-out;
        }
        
        nav ul li a:hover::after, nav ul li a.active::after {
            left: 0;
        }
        
        .header-actions {
            position: relative;
        }

        .cart-icon-btn {
            background: none;
            border: none;
            cursor: none; /* Inherits custom cursor */
            position: relative;
        }

        .cart-icon-btn svg {
            width: 28px;
            height: 28px;
            fill: var(--text-light);
            transition: transform var(--transition-speed);
        }

        .cart-icon-btn:hover svg {
            transform: scale(1.1);
        }

        .cart-item-count {
            position: absolute;
            top: -5px;
            right: -10px;
            background-color: var(--accent-danger);
            color: var(--text-light);
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            font-weight: bold;
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 10px var(--accent-danger);
        }

        /*
        ========================================
        Hero Section
        ========================================
        */
        .hero {
            background: linear-gradient(135deg, var(--secondary-dark), var(--primary-color));
            color: var(--text-light);
            padding: 8rem 0;
            text-align: center;
            overflow: hidden;
        }
        
        .hero-title-container {
            font-size: 4.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
            line-height: 1.1;
        }

        .hero-title-container .char {
            display: inline-block;
            opacity: 0;
            transform: translateY(50px) rotate(10deg);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        
        .hero p {
            font-size: 1.4rem;
            max-width: 700px;
            margin: 0 auto 3rem;
            font-weight: 300;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: var(--text-light);
            padding: 1rem 2.5rem;
            border-radius: var(--border-radius-lg);
            text-decoration: none;
            font-weight: 600;
            border: none;
            cursor: none; /* Inherits custom cursor */
            transition: background-color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary-light), var(--accent-success));
            z-index: -1;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s ease-in-out;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .btn:hover::before {
            transform: scaleX(1);
        }
        
        .btn-secondary {
            background-color: var(--accent-success);
        }
        .btn-secondary::before {
            background: linear-gradient(45deg, var(--primary-color), var(--primary-light));
        }

        /*
        ========================================
        Products Section
        ========================================
        */
        .products {
            background-color: var(--background-white);
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2.5rem;
        }
        
        .product-card {
            background-color: var(--background-white);
            border-radius: var(--border-radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }
        
        .product-img-container {
            height: 250px;
            background-color: var(--primary-lightest);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            position: relative;
        }
        
        .product-img {
            max-width: 80%;
            max-height: 220px;
            transition: transform var(--transition-speed);
        }

        .product-card:hover .product-img {
            transform: scale(1.05);
        }
        
        .product-info {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
        }
        
        .product-description {
            font-size: 0.95rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
            flex-grow: 1;
        }
        
        .product-price {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.4rem;
            margin-bottom: 1rem;
        }

        .product-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: auto;
        }

        .product-actions .btn {
            flex-grow: 1;
            padding: 0.8rem 1rem;
            font-size: 0.9rem;
        }

        .quick-view-btn {
            background-color: var(--text-muted);
        }

        .quick-view-btn::before {
             background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
        }

        .product-colors {
            margin-bottom: 1.5rem;
        }

        .color-swatch {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 8px;
            cursor: none;
            border: 2px solid #ddd;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .color-swatch:hover {
            transform: scale(1.2);
        }

        .color-swatch.active {
            border-color: var(--secondary-color);
            box-shadow: 0 0 8px var(--secondary-color);
            transform: scale(1.1);
        }
        
        /*
        ========================================
        Product Customizer Section
        ========================================
        */
        .customizer {
            background: linear-gradient(180deg, var(--background-white) 0%, var(--primary-lightest) 100%);
        }

        .customizer-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 4rem;
            align-items: center;
        }

        .customizer-options {
            background: rgba(255, 255, 255, 0.7);
            padding: 2.5rem;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-md);
        }

        .option-group {
            margin-bottom: 2rem;
        }

        .option-group h4 {
            margin-bottom: 1rem;
            color: var(--secondary-color);
            font-size: 1.2rem;
            border-bottom: 2px solid var(--primary-lighter);
            padding-bottom: 0.5rem;
        }

        .option-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .option-btn {
            background: var(--background-light);
            border: 2px solid #ddd;
            padding: 0.6rem 1.2rem;
            border-radius: var(--border-radius-lg);
            cursor: none;
            transition: all var(--transition-speed-fast);
        }

        .option-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-light);
        }
        
        .color-option.active {
             border-width: 3px;
             transform: scale(1.1);
        }

        #engraving-text {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: var(--border-radius-sm);
            margin-top: 1rem;
        }

        .customizer-preview {
            text-align: center;
        }

        .preview-image-wrapper {
            position: relative;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        #preview-img {
            max-height: 100%;
            max-width: 100%;
            transition: transform var(--transition-speed-slow) ease;
        }
        
        #preview-engraving {
            position: absolute;
            top: 55%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            font-family: 'Georgia', serif;
            color: rgba(0, 0, 0, 0.6);
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
            width: 150px;
            word-wrap: break-word;
        }

        .customizer-price-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--secondary-dark);
            margin-bottom: 1.5rem;
        }

        /*
        ========================================
        AI Recommender Section
        ========================================
        */
        .recommender {
            background-color: var(--secondary-dark);
            color: var(--text-light);
            text-align: center;
        }

        .recommender .section-title {
            color: var(--primary-lightest);
        }
        
        .recommender .section-subtitle {
            color: var(--primary-lighter);
        }

        .recommender-cta {
            background: rgba(255, 255, 255, 0.1);
            padding: 3rem;
            border-radius: var(--border-radius-md);
            max-width: 800px;
            margin: 0 auto;
        }

        .recommender-cta h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .recommender-cta p {
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        /*
        ========================================
        Join The Club Section
        ========================================
        */
        .join-club {
            background: url('https://www.toptal.com/designers/subtlepatterns/uploads/topography.png') var(--background-light);
        }

        .join-club-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            background: var(--background-white);
            padding: 4rem;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
        }
        
        .join-club-text h3 {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }

        .join-club-text p {
            margin-bottom: 1.5rem;
        }

        .join-club-image img {
             max-width: 100%;
             border-radius: var(--border-radius-md);
        }
        
        /*
        ========================================
        About Us Section
        ========================================
        */
        .about {
            background-color: var(--primary-lightest);
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }
        
        .about-image img {
            max-width: 100%;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
        }
        
        .about-text h3 {
            font-size: 2rem;
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }
        
        .about-text p {
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        /*
        ========================================
        Features Section
        ========================================
        */
        .features {
            background-color: var(--background-white);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .feature-card {
            text-align: center;
            padding: 2.5rem;
            background-color: transparent;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius-md);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed), background-color var(--transition-speed);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            background-color: white;
            border-color: transparent;
        }
        
        .feature-icon svg {
            width: 60px;
            height: 60px;
            fill: var(--primary-color);
            margin-bottom: 1.5rem;
            transition: transform 0.4s ease;
        }
        .feature-card:hover .feature-icon svg {
            transform: scale(1.1) rotate(-15deg);
        }
        
        .feature-title {
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: var(--secondary-color);
        }
        
        /*
        ========================================
        Testimonials Section
        ========================================
        */
        .testimonials {
            background-color: var(--primary-lightest);
        }
        
        .testimonial-carousel {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius-md);
            background-color: var(--background-white);
            box-shadow: var(--shadow-md);
        }

        .testimonial-slider {
            display: flex;
            transition: transform var(--transition-speed) ease-in-out;
        }
        
        .testimonial {
            text-align: center;
            padding: 3rem 4rem;
            min-width: 100%;
            box-sizing: border-box;
        }
        
        .testimonial-text {
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 1.5rem;
            color: var(--text-muted);
        }
        
        .testimonial-author {
            font-weight: bold;
            color: var(--secondary-color);
            font-size: 1.1rem;
        }

        .testimonial-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 1rem;
            pointer-events: none;
        }

        .testimonial-nav-btn {
            background-color: rgba(255, 255, 255, 0.7);
            border: none;
            cursor: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-sm);
            transition: background-color var(--transition-speed), transform var(--transition-speed);
            pointer-events: all;
        }

        .testimonial-nav-btn:hover {
            background-color: white;
            transform: scale(1.1);
        }

        .testimonial-nav-btn svg {
            width: 20px;
            height: 20px;
            fill: var(--secondary-color);
        }
        
        /*
        ========================================
        FAQ Section
        ========================================
        */
        .faq {
            background-color: var(--background-white);
        }

        .faq-accordion {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            border-bottom: 1px solid #e0e0e0;
        }
        
        .faq-question {
            width: 100%;
            background: none;
            border: none;
            text-align: left;
            padding: 1.5rem 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--secondary-color);
            transition: background-color var(--transition-speed);
        }
        
        .faq-question:hover {
            background-color: var(--primary-lightest);
        }
        
        .faq-icon {
            transition: transform var(--transition-speed);
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .faq-item.active .faq-icon {
            transform: rotate(135deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
            padding: 0 1rem;
        }
        
        .faq-answer p {
            padding-bottom: 1.5rem;
        }
        
        /*
        ========================================
        Contact Section
        ========================================
        */
        .contact {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: var(--text-light);
            padding: 5rem 0;
        }
        
        .contact .section-title {
            color: var(--text-light);
        }
        
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 3rem;
            border-radius: var(--border-radius-md);
            backdrop-filter: blur(5px);
        }
        
        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid transparent;
            border-radius: var(--border-radius-sm);
            font-family: var(--font-family-base);
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 10px var(--secondary-color);
        }
        
        .contact-form textarea {
            height: 150px;
            resize: vertical;
        }
        
        .contact-info {
            line-height: 2.2;
        }
        
        .contact-info h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }
        
        /*
        ========================================
        Footer
        ========================================
        */
        footer {
            background-color: var(--secondary-dark);
            color: var(--text-light);
            padding: 4rem 0 2rem 0;
            text-align: center;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            text-align: left;
            margin-bottom: 3rem;
        }

        .footer-column h4 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--primary-lightest);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 0.5rem;
        }

        .footer-column a {
            color: var(--primary-lighter);
            text-decoration: none;
            transition: color var(--transition-speed);
        }

        .footer-column a:hover {
            color: var(--text-light);
            text-decoration: underline;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .footer-logo svg {
            width: 40px;
            height: 40px;
        }
        
        .footer-logo h2 {
            font-size: 1.8rem;
        }

        .footer-logo span {
            font-weight: 300;
        }

        .footer-socials {
            margin-top: 1.5rem;
        }
        
        .footer-socials a {
            color: var(--text-light);
            margin: 0 0.75rem;
            font-size: 1.5rem;
            text-decoration: none;
            transition: color var(--transition-speed), transform var(--transition-speed);
            display: inline-block;
        }

        .footer-socials a svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }
        
        .footer-socials a:hover {
            color: var(--primary-light);
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            border-top: 1px solid #1a5ca4;
            padding-top: 2rem;
            margin-top: 2rem;
            text-align: center;
            font-size: 0.9rem;
            color: var(--primary-lighter);
        }
        
        /*
        ========================================
        Modals (General) & Overlays
        ========================================
        */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 1999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
        }
        
        .modal-overlay.open {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            background-color: var(--background-white);
            box-shadow: var(--shadow-lg);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s, transform 0.4s, visibility 0.4s;
            border-radius: var(--border-radius-md);
            overflow: hidden;
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .modal-header h3 {
            font-size: 1.5rem;
            color: var(--secondary-color);
        }
        
        .modal-close-btn {
            background: none;
            border: none;
            cursor: none;
            font-size: 2rem;
        }
        .modal-close-btn svg {
            width: 24px;
            height: 24px;
            fill: var(--text-muted);
            transition: transform 0.2s, fill 0.2s;
        }
        .modal-close-btn:hover svg {
            transform: rotate(90deg);
            fill: var(--accent-danger);
        }

        /*
        ========================================
        Quick View Modal
        ========================================
        */
        #quick-view-modal {
            max-width: 800px;
            width: 90%;
        }
        .quick-view-body {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        .quick-view-img {
            width: 100%;
            height: 300px;
            object-fit: contain;
            background: var(--primary-lightest);
            border-radius: var(--border-radius-sm);
        }
        #quick-view-title { font-size: 1.8rem; color: var(--secondary-color); }
        #quick-view-price { font-size: 1.5rem; color: var(--primary-color); font-weight: bold; margin: 0.5rem 0 1rem; }
        #quick-view-description { color: var(--text-muted); margin-bottom: 1.5rem; }


        /*
        ========================================
        Recommender Modal
        ========================================
        */
        #recommender-modal {
            max-width: 600px;
            width: 90%;
            text-align: center;
        }
        .recommender-body { padding: 2.5rem; }
        .recommender-body h3 { font-size: 1.8rem; margin-bottom: 1rem; color: var(--secondary-color); }
        .recommender-body .btn { margin-top: 1.5rem; }

        .quiz-step { display: none; }
        .quiz-step.active { display: block; }
        .quiz-question { font-size: 1.2rem; margin-bottom: 1.5rem; }
        .quiz-options { display: flex; flex-direction: column; gap: 1rem; }
        .quiz-options label {
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius-sm);
            cursor: none;
            transition: border-color 0.2s, background-color 0.2s;
        }
        .quiz-options label:hover { background-color: var(--primary-lightest); }
        .quiz-options input[type="radio"] { display: none; }
        .quiz-options input[type="radio"]:checked + span { font-weight: bold; color: var(--primary-color); }
        .quiz-nav { margin-top: 2rem; display: flex; justify-content: space-between; }


        /*
        ========================================
        Shopping Cart Drawer
        ========================================
        */
        .cart-drawer {
            position: fixed;
            top: 0;
            right: -100%; /* Initially hidden */
            width: 100%;
            max-width: 450px;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            box-shadow: var(--shadow-lg);
            border-left: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 2000;
            transition: right 0.4s ease-in-out;
            display: flex;
            flex-direction: column;
        }
        
        .cart-drawer.open {
            right: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .cart-header h3 {
            font-size: 1.5rem;
            color: var(--secondary-color);
        }
        
        .close-cart-btn {
            background: none;
            border: none;
            cursor: none;
            font-size: 2rem;
        }

        .close-cart-btn svg {
            width: 24px;
            height: 24px;
            fill: var(--text-muted);
            transition: transform 0.2s, fill 0.2s;
        }

        .close-cart-btn:hover svg {
            transform: rotate(90deg);
            fill: var(--accent-danger);
        }
        
        .cart-body {
            flex-grow: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }
        
        .cart-empty-message {
            text-align: center;
            color: var(--text-muted);
            margin-top: 2rem;
        }

        .cart-items-list {
            list-style: none;
        }

        .cart-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            gap: 1rem;
            background: rgba(255,255,255,0.5);
            padding: 1rem;
            border-radius: var(--border-radius-sm);
        }
        
        .cart-item-img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            background-color: var(--primary-lightest);
            border-radius: var(--border-radius-sm);
        }
        
        .cart-item-info {
            flex-grow: 1;
        }

        .cart-item-title {
            font-size: 1rem;
            font-weight: 600;
            display: block;
            margin-bottom: 0.25rem;
        }

        .cart-item-details {
            font-size: 0.8rem;
            color: var(--text-muted);
        }
        
        .cart-item-price {
            color: var(--primary-color);
            font-size: 0.9rem;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            margin-top: 0.5rem;
        }

        .quantity-btn {
            background-color: #eee;
            border: none;
            width: 25px;
            height: 25px;
            cursor: none;
            font-weight: bold;
        }
        
        .item-quantity {
            width: 30px;
            text-align: center;
            font-weight: 600;
        }

        .cart-item-remove-btn {
            background: none;
            border: none;
            color: var(--accent-danger);
            cursor: none;
            font-size: 0.8rem;
            text-decoration: underline;
            margin-left: auto;
        }

        .cart-footer {
            padding: 1.5rem;
            border-top: 1px solid rgba(0,0,0,0.1);
            background: rgba(255,255,255,0.7);
        }

        .cart-subtotal {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }

        .cart-checkout-btn {
            width: 100%;
            padding: 1rem;
            font-size: 1.1rem;
        }
        
        /*
        ========================================
        Back to Top Button
        ========================================
        */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: var(--shadow-md);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s, background-color 0.3s;
            z-index: 900;
            cursor: none;
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .back-to-top:hover {
            background-color: var(--secondary-color);
            transform: translateY(-5px);
        }
        
        .back-to-top svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        /*
        ========================================
        Responsive Adjustments
        ========================================
        */
        @media (max-width: 1024px) {
            .about-content, .join-club-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .about-image, .join-club-image {
                order: -1;
                margin-bottom: 2rem;
            }
            .customizer-container {
                 grid-template-columns: 1fr;
            }
            .quick-view-body {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .section-title {
                font-size: 2rem;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 1rem;
                padding-left: 0;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 0.5rem 0.75rem;
            }
            
            .header-actions {
                position: absolute;
                top: 1.5rem;
                right: 1.5rem;
            }
            
            .hero-title-container {
                font-size: 3rem;
            }
            .hero p {
                font-size: 1.1rem;
            }

            .contact-grid {
                grid-template-columns: 1fr;
            }

            .testimonial-nav {
                padding: 0;
            }
            .testimonial {
                padding: 2rem 1rem;
            }

            .custom-cursor {
                display: none;
            }
            body {
                cursor: auto;
            }
            .btn, .cart-icon-btn, .color-swatch, .option-btn, .testimonial-nav-btn, .faq-question, .modal-close-btn, .cart-item-remove-btn, .quantity-btn, .back-to-top, .quiz-options label {
                cursor: pointer;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                width: 95%;
            }
            .product-grid {
                grid-template-columns: 1fr;
            }
            .features-grid {
                grid-template-columns: 1fr;
            }
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .footer-column ul {
                padding-left: 0;
            }
            .footer-logo {
                justify-content: center;
            }
            .product-actions {
                flex-direction: column;
            }
            .hero-title-container {
                font-size: 2.5rem;
            }
        }

    </style>
</head>
<body>
    <!-- Custom Cursor -->
    <div class="custom-cursor"></div>

    <!-- SVG Icons Definition -->
    <svg width="0" height="0" class="hidden">
      <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-facebook">
        <path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.14 9.5 5.32v2.14H6v4.44h3.5v12h4.44v-12h3.81l.47-4.44z"/>
      </symbol>
      <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-instagram">
        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163m0-1.602c-3.264 0-3.66.014-4.944.076-4.353.2-6.135 1.983-6.335 6.335-.062 1.284-.076 1.68-.076 4.944s.014 3.66.076 4.944c.2 4.353 1.982 6.135 6.335 6.335 1.284.062 1.68.076 4.944.076s3.66-.014 4.944-.076c4.353-.2 6.135-1.982 6.335-6.335.062-1.284.076-1.68.076-4.944s-.014-3.66-.076-4.944c-.2-4.353-1.982-6.135-6.335-6.335C15.66.575 15.264.561 12 .561z"/>
        <path d="M12 6.865c-2.841 0-5.135 2.294-5.135 5.135s2.294 5.135 5.135 5.135 5.135-2.294 5.135-5.135S14.841 6.865 12 6.865zm0 8.73c-1.984 0-3.595-1.611-3.595-3.595s1.611-3.595 3.595-3.595 3.595 1.611 3.595 3.595-1.611 3.595-3.595 3.595z"/>
        <circle cx="16.862" cy="7.138" r="1.232"/>
      </symbol>
      <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-twitter">
        <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.223.085 4.93 4.93 0 004.6 3.419A9.9 9.9 0 010 17.54a13.94 13.94 0 007.544 2.213c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
      </symbol>
    </svg>

    <!-- Header Section -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#home" class="logo" aria-label="HydroBottles Homepage" data-magnetic>
                    <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 0C26.5 0 10 20.8333 10 41.6667C10 66.6667 50 100 50 100C50 100 90 66.6667 90 41.6667C90 20.8333 73.5 0 50 0ZM50 58.3333C41.25 58.3333 34.1667 51.25 34.1667 42.5C34.1667 33.75 41.25 26.6667 50 26.6667C58.75 26.6667 65.8333 33.75 65.8333 42.5C65.8333 51.25 58.75 58.3333 50 58.3333Z" fill="white"/>
                    </svg>
                    <h1>Hydro<span>Bottles</span></h1>
                </a>
                <nav>
                    <ul>
                        <li><a href="#home" data-magnetic>Home</a></li>
                        <li><a href="#products" data-magnetic>Products</a></li>
                        <li><a href="#customizer" data-magnetic>Customize</a></li>
                        <li><a href="#about" data-magnetic>About</a></li>
                        <li><a href="#contact" data-magnetic>Contact</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <button class="cart-icon-btn" id="open-cart-btn" aria-label="Open Shopping Cart" data-magnetic>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                        <span id="cart-item-count" class="cart-item-count">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <main>
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="container">
                <h2 class="hero-title-container">Stay Hydrated in Style</h2>
                <p class="fade-in">Discover our premium collection of eco-friendly, durable water bottles designed for your active lifestyle.</p>
                <a href="#products" class="btn fade-in" data-magnetic>Shop Our Collection</a>
            </div>
        </section>
        
        <!-- Products Section -->
        <section class="products" id="products">
            <div class="container">
                <h2 class="section-title fade-in">Our Products</h2>
                <p class="section-subtitle fade-in">Choose the perfect companion for your daily hydration needs. Or, build your own!</p>
                <div class="product-grid">
                    <!-- Product 1 -->
                    <div class="product-card fade-in" data-id="1" data-name="Classic Hydro Bottle" data-price="24.99">
                        <div class="product-img-container">
                            <img src="https://placehold.co/300x300/ade8f4/023e8a?text=HydroBottle" alt="Classic Hydro Bottle" class="product-img" data-colors='{"#ade8f4":"https://placehold.co/300x300/ade8f4/023e8a?text=HydroBottle", "#f7a8a8":"https://placehold.co/300x300/f7a8a8/ffffff?text=HydroBottle", "#a8e6cf":"https://placehold.co/300x300/a8e6cf/023e8a?text=HydroBottle"}'>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">Classic Hydro Bottle</h3>
                            <p class="product-description">Perfect for everyday use with 24-hour cold retention. 24oz capacity.</p>
                             <div class="product-colors">
                                <span class="color-swatch active" style="background-color: #ade8f4;" data-color="#ade8f4"></span>
                                <span class="color-swatch" style="background-color: #f7a8a8;" data-color="#f7a8a8"></span>
                                <span class="color-swatch" style="background-color: #a8e6cf;" data-color="#a8e6cf"></span>
                            </div>
                            <p class="product-price">$24.99</p>
                            <div class="product-actions">
                                <button class="btn quick-view-btn" data-magnetic>Quick View</button>
                                <button class="btn add-to-cart" data-magnetic>Add to Cart</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 2 -->
                    <div class="product-card fade-in" data-id="2" data-name="Sport Bottle Pro" data-price="29.99">
                        <div class="product-img-container">
                            <img src="https://placehold.co/300x300/343a40/ffffff?text=Sport+Pro" alt="Sport Bottle Pro" class="product-img" data-colors='{"#343a40":"https://placehold.co/300x300/343a40/ffffff?text=Sport+Pro", "#e76f51":"https://placehold.co/300x300/e76f51/ffffff?text=Sport+Pro", "#0096c7":"https://placehold.co/300x300/0096c7/ffffff?text=Sport+Pro"}'>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">Sport Bottle Pro</h3>
                            <p class="product-description">Designed for athletes with an easy-flip straw and a non-slip grip. 32oz.</p>
                             <div class="product-colors">
                                <span class="color-swatch active" style="background-color: #343a40;" data-color="#343a40"></span>
                                <span class="color-swatch" style="background-color: #e76f51;" data-color="#e76f51"></span>
                                <span class="color-swatch" style="background-color: #0096c7;" data-color="#0096c7"></span>
                            </div>
                            <p class="product-price">$29.99</p>
                             <div class="product-actions">
                                <button class="btn quick-view-btn" data-magnetic>Quick View</button>
                                <button class="btn add-to-cart" data-magnetic>Add to Cart</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 3 -->
                    <div class="product-card fade-in" data-id="3" data-name="Insulated Traveler" data-price="34.99">
                        <div class="product-img-container">
                            <img src="https://placehold.co/300x300/f8f9fa/343a40?text=Traveler" alt="Insulated Traveler" class="product-img" data-colors='{"#f8f9fa":"https://placehold.co/300x300/f8f9fa/343a40?text=Traveler", "#6c757d":"https://placehold.co/300x300/6c757d/ffffff?text=Traveler", "#d4a373":"https://placehold.co/300x300/d4a373/ffffff?text=Traveler"}'>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">Insulated Traveler</h3>
                            <p class="product-description">Leak-proof coffee mug for hot and cold drinks. Fits most cup holders. 16oz.</p>
                             <div class="product-colors">
                                <span class="color-swatch active" style="background-color: #f8f9fa;" data-color="#f8f9fa"></span>
                                <span class="color-swatch" style="background-color: #6c757d;" data-color="#6c757d"></span>
                                <span class="color-swatch" style="background-color: #d4a373;" data-color="#d4a373"></span>
                            </div>
                            <p class="product-price">$34.99</p>
                             <div class="product-actions">
                                <button class="btn quick-view-btn" data-magnetic>Quick View</button>
                                <button class="btn add-to-cart" data-magnetic>Add to Cart</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 4 -->
                    <div class="product-card fade-in" data-id="4" data-name="Kids Hydro Pal" data-price="19.99">
                        <div class="product-img-container">
                            <img src="https://placehold.co/300x300/ffc8dd/bde0fe?text=Kids+Pal" alt="Kids Hydro Pal" class="product-img" data-colors='{"#ffc8dd":"https://placehold.co/300x300/ffc8dd/bde0fe?text=Kids+Pal", "#a2d2ff":"https://placehold.co/300x300/a2d2ff/ffffff?text=Kids+Pal", "#cdb4db":"https://placehold.co/300x300/cdb4db/ffffff?text=Kids+Pal"}'>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">Kids Hydro Pal</h3>
                            <p class="product-description">Colorful, durable, and safe for children of all ages. Easy to clean. 12oz.</p>
                             <div class="product-colors">
                                <span class="color-swatch active" style="background-color: #ffc8dd;" data-color="#ffc8dd"></span>
                                <span class="color-swatch" style="background-color: #a2d2ff;" data-color="#a2d2ff"></span>
                                <span class="color-swatch" style="background-color: #cdb4db;" data-color="#cdb4db"></span>
                            </div>
                            <p class="product-price">$19.99</p>
                            <div class="product-actions">
                                <button class="btn quick-view-btn" data-magnetic>Quick View</button>
                                <button class="btn add-to-cart" data-magnetic>Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Customizer Section -->
        <section class="customizer" id="customizer">
            <div class="container">
                <h2 class="section-title fade-in">Build Your Own Bottle</h2>
                <p class="section-subtitle fade-in">Craft a unique HydroBottle that matches your personal style. The possibilities are endless.</p>
                <div class="customizer-container fade-in">
                    <div class="customizer-options">
                        <div class="option-group">
                            <h4>1. Choose Your Base Model</h4>
                            <div class="option-buttons" id="custom-base-options">
                                <button class="option-btn active" data-value="classic" data-price="24.99" data-magnetic>Classic (24oz)</button>
                                <button class="option-btn" data-value="sport" data-price="29.99" data-magnetic>Sport (32oz)</button>
                                <button class="option-btn" data-value="traveler" data-price="34.99" data-magnetic>Traveler (16oz)</button>
                            </div>
                        </div>
                        <div class="option-group">
                            <h4>2. Select a Color</h4>
                             <div class="option-buttons" id="custom-color-options">
                                <button class="option-btn color-option color-swatch active" style="background-color: #ade8f4;" data-value="Sky Blue" data-color-hex="#ade8f4" data-magnetic></button>
                                <button class="option-btn color-option color-swatch" style="background-color: #343a40;" data-value="Midnight Black" data-color-hex="#343a40" data-magnetic></button>
                                <button class="option-btn color-option color-swatch" style="background-color: #e76f51;" data-value="Sunset Orange" data-color-hex="#e76f51" data-magnetic></button>
                                <button class="option-btn color-option color-swatch" style="background-color: #a8e6cf;" data-value="Mint Green" data-color-hex="#a8e6cf" data-magnetic></button>
                                <button class="option-btn color-option color-swatch" style="background-color: #f8f9fa;" data-value="Arctic White" data-color-hex="#f8f9fa" data-magnetic></button>
                                <button class="option-btn color-option color-swatch" style="background-color: #ffc8dd;" data-value="Sakura Pink" data-color-hex="#ffc8dd" data-magnetic></button>
                            </div>
                        </div>
                         <div class="option-group">
                            <h4>3. Pick a Lid (+ $2.00)</h4>
                             <div class="option-buttons" id="custom-lid-options">
                                <button class="option-btn active" data-value="standard" data-price="0" data-magnetic>Standard</button>
                                <button class="option-btn" data-value="straw" data-price="2.00" data-magnetic>Straw Lid</button>
                                <button class="option-btn" data-value="handle" data-price="2.00" data-magnetic>Handle Lid</button>
                            </div>
                        </div>
                        <div class="option-group">
                            <h4>4. Add Engraving (+ $5.00)</h4>
                            <input type="text" id="engraving-text" placeholder="Your Text Here (max 15 chars)" maxlength="15">
                        </div>
                    </div>
                    <div class="customizer-preview">
                        <div class="preview-image-wrapper">
                             <img src="https://placehold.co/400x500/ade8f4/023e8a?text=HydroBottle" alt="Customized Bottle Preview" id="preview-img">
                             <div id="preview-engraving"></div>
                        </div>
                        <div class="customizer-price-display" id="customizer-price">$24.99</div>
                        <button class="btn btn-secondary" id="add-custom-to-cart" data-magnetic>Add Custom Bottle to Cart</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Recommender Section -->
        <section class="recommender" id="recommender">
            <div class="container">
                <h2 class="section-title fade-in">Find Your Perfect Match</h2>
                <p class="section-subtitle fade-in">Not sure where to start? Let our AI-powered guide ask a few questions to find the ideal HydroBottle for your lifestyle.</p>
                <div class="recommender-cta fade-in">
                    <h3>The HydroBot 3000 Awaits</h3>
                    <p>Answer a few simple questions and get a personalized recommendation in seconds. Hydration, optimized.</p>
                    <button class="btn" id="start-quiz-btn" data-magnetic>Start the Quiz</button>
                </div>
            </div>
        </section>

        <!-- About Us Section -->
        <section class="about" id="about">
            <div class="container">
                <h2 class="section-title fade-in">Our Story</h2>
                <div class="about-content">
                    <div class="about-image fade-in">
                        <img src="https://placehold.co/500x350/023e8a/ffffff?text=Our+Team" alt="A group of people hiking with water bottles">
                    </div>
                    <div class="about-text fade-in">
                        <h3>Born from Adventure</h3>
                        <p>Hydro Bottles Co. was founded by a group of outdoor enthusiasts who were tired of single-use plastic and unreliable water bottles. We wanted to create a product that was not only stylish and functional but also kind to our planet.</p>
                        <p>Our mission is simple: to provide the highest quality reusable water bottles that support an active and sustainable lifestyle. Every bottle we design is a testament to our commitment to durability, performance, and environmental responsibility.</p>
                        <a href="#contact" class="btn btn-secondary" data-magnetic>Join Our Journey</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features" id="features">
            <div class="container">
                <h2 class="section-title fade-in">Why Choose HydroBottles</h2>
                <p class="section-subtitle fade-in">We build our bottles with you and the planet in mind.</p>
                <div class="features-grid">
                    <!-- Feature 1 -->
                    <div class="feature-card fade-in">
                        <div class="feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,2A10,10,0,0,0,2,12A10,10,0,0,0,12,22A10,10,0,0,0,22,12C22,8.85,20.54,6.07,18.3,4.32L17.68,5C19.5,6.54,20.5,8.9,20.5,11.5A8.5,8.5,0,0,1,12,20A8.5,8.5,0,0,1,3.5,11.5A8.5,8.5,0,0,1,12,3A8.5,8.5,0,0,1,17.65,5.55L18.4,4.92C16.8,3.62,14.5,3,12,3A9,9,0,0,0,3,12A9,9,0,0,0,12,21A9,9,0,0,0,21,12C21,8.45,19.17,5.4,16.5,3.68V2H12M12,6V12H18V10H14V6H12Z" /></svg>
                        </div>
                        <h3 class="feature-title">Eco-Friendly</h3>
                        <p>All our bottles are made from sustainable, BPA-free materials, helping reduce plastic waste.</p>
                    </div>
                    
                    <!-- Feature 2 -->
                    <div class="feature-card fade-in">
                        <div class="feature-icon">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,2A9,9,0,0,0,3,11V12A9,9,0,0,0,12,21A9,9,0,0,0,21,12V11A9,9,0,0,0,12,2M8,7H10.5V10.5H8V7M13.5,7H16V10.5H13.5V7M8,12H10.5V15.5H8V12M12,19.5A7.5,7.5,0,0,1,4.5,12V11A7.5,7.5,0,0,1,12,3.5A7.5,7.5,0,0,1,19.5,11V12A7.5,7.5,0,0,1,12,19.5M13.5,12H16V15.5H13.5V12Z" /></svg>
                        </div>
                        <h3 class="feature-title">Temperature Control</h3>
                        <p>Advanced insulation keeps your drinks cold for 24 hours or hot for 12 hours.</p>
                    </div>
                    
                    <!-- Feature 3 -->
                    <div class="feature-card fade-in">
                        <div class="feature-icon">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.1 14.8,9.5C14.8,10.9 13.4,12 12,12C10.6,12 9.2,10.9 9.2,9.5C9.2,8.1 10.6,7 12,7M17,17H7V15.8C7,13.8 11,12.9 12,12.9C13,12.9 17,13.8 17,15.8V17Z" /></svg>
                        </div>
                        <h3 class="feature-title">Built for Life</h3>
                        <p>Built with premium 18/8 stainless steel, our bottles are dent-resistant and ready for any adventure.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Testimonials Section -->
        <section class="testimonials" id="testimonials">
            <div class="container">
                <h2 class="section-title fade-in">What Our Customers Say</h2>
                <div class="testimonial-carousel fade-in">
                    <div class="testimonial-slider">
                        <div class="testimonial">
                            <p class="testimonial-text">"I take my Classic HydroBottle everywhere! It keeps my water ice cold all day, even in the summer heat. Best water bottle I've ever owned."</p>
                            <p class="testimonial-author">- Sarah T., Avid Hiker</p>
                        </div>
                         <div class="testimonial">
                            <p class="testimonial-text">"The Sport Bottle Pro is perfect for the gym. The straw lid is super convenient and it has never leaked in my gym bag. Highly recommend!"</p>
                            <p class="testimonial-author">- Mark R., Fitness Enthusiast</p>
                        </div>
                         <div class="testimonial">
                            <p class="testimonial-text">"As a coffee lover, the Insulated Traveler is a game-changer. My coffee stays piping hot for my entire morning commute. Plus, it looks so sleek!"</p>
                            <p class="testimonial-author">- Emily C., Daily Commuter</p>
                        </div>
                    </div>
                    <div class="testimonial-nav">
                         <button class="testimonial-nav-btn" id="prev-testimonial" aria-label="Previous testimonial" data-magnetic>
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z" /></svg>
                         </button>
                         <button class="testimonial-nav-btn" id="next-testimonial" aria-label="Next testimonial" data-magnetic>
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
                         </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Join The Club Section -->
        <section class="join-club" id="join-club">
            <div class="container">
                <div class="join-club-content fade-in">
                    <div class="join-club-text">
                        <h3>Join The Hydro Club</h3>
                        <p>Unlock exclusive benefits with our subscription service. Receive limited-edition bottles, cleaning kits, and flavor drops delivered to your door. Stay hydrated, stay inspired.</p>
                        <ul style="list-style-position: inside; margin-bottom: 1.5rem;">
                            <li>Quarterly limited-edition bottle</li>
                            <li>Free shipping on all orders</li>
                            <li>Exclusive access to new products</li>
                        </ul>
                        <a href="#" class="btn" data-magnetic>Learn More</a>
                    </div>
                    <div class="join-club-image">
                        <img src="https://placehold.co/500x400/2a9d8f/ffffff?text=Hydro+Club" alt="Exclusive Hydro Club bottle">
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq" id="faq">
            <div class="container">
                <h2 class="section-title fade-in">Frequently Asked Questions</h2>
                <div class="faq-accordion fade-in">
                    <div class="faq-item">
                        <button class="faq-question">
                            <span>Are HydroBottles dishwasher safe?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-answer">
                            <p>We recommend hand-washing your bottle with warm, soapy water for best results and to preserve the exterior finish. Lids are top-rack dishwasher safe.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question">
                            <span>What is your warranty policy?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-answer">
                            <p>We offer a limited lifetime warranty against manufacturer's defects. This covers things like broken or leaky caps and loss of insulating properties, but not normal wear and tear like scratches or dents from use.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question">
                            <span>Do you ship internationally?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-answer">
                            <p>Yes, we ship to most countries worldwide! Shipping costs and times will be calculated at checkout based on your location. Please note that customs fees may apply.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question">
                            <span>Are the bottles BPA-free?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-answer">
                            <p>Absolutely! All HydroBottles and lids are made from non-toxic, BPA-free plastics and 18/8 food-grade stainless steel. Your health and safety are our top priority.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Contact Section -->
        <section class="contact" id="contact">
            <div class="container">
                <h2 class="section-title fade-in">Get In Touch</h2>
                <p class="section-subtitle fade-in" style="color: var(--primary-lightest);">Have questions? We'd love to hear from you!</p>
                <div class="contact-grid fade-in">
                    <div class="contact-form">
                        <form id="contactForm">
                            <input type="text" name="name" placeholder="Your Name" required data-magnetic>
                            <input type="email" name="email" placeholder="Your Email" required data-magnetic>
                            <textarea name="message" placeholder="Your Message" required data-magnetic></textarea>
                            <button type="submit" class="btn btn-secondary" data-magnetic>Send Message</button>
                        </form>
                    </div>
                    <div class="contact-info">
                        <h3>Our Information</h3>
                        <p><strong>Address:</strong> 123 Hydration Ave, Watertown, CA 90210</p>
                        <p><strong>Email:</strong> info@hydrobottles.com</p>
                        <p><strong>Phone:</strong> (555) 123-4567</p>
                        <p><strong>Hours:</strong> Monday-Friday, 9am - 5pm PST</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <a href="#home" class="footer-logo" aria-label="HydroBottles Homepage" data-magnetic>
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 0C26.5 0 10 20.8333 10 41.6667C10 66.6667 50 100 50 100C50 100 90 66.6667 90 41.6667C90 20.8333 73.5 0 50 0ZM50 58.3333C41.25 58.3333 34.1667 51.25 34.1667 42.5C34.1667 33.75 41.25 26.6667 50 26.6667C58.75 26.6667 65.8333 33.75 65.8333 42.5C65.8333 51.25 58.75 58.3333 50 58.3333Z" fill="white"/>
                        </svg>
                        <h2>Hydro<span>Bottles</span></h2>
                    </a>
                    <p style="color: var(--primary-lighter);">Premium bottles for a hydrated life.</p>
                    <div class="footer-socials">
                        <a href="#" aria-label="Facebook" data-magnetic><svg><use href="#icon-facebook"></use></svg></a>
                        <a href="#" aria-label="Instagram" data-magnetic><svg><use href="#icon-instagram"></use></svg></a>
                        <a href="#" aria-label="Twitter" data-magnetic><svg><use href="#icon-twitter"></use></svg></a>
                    </div>
                </div>
                 <div class="footer-column">
                    <h4>Shop</h4>
                    <ul>
                        <li><a href="#products" data-magnetic>All Products</a></li>
                        <li><a href="#customizer" data-magnetic>Customize</a></li>
                        <li><a href="#join-club" data-magnetic>Hydro Club</a></li>
                        <li><a href="#" data-magnetic>Gift Cards</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#faq" data-magnetic>FAQ</a></li>
                        <li><a href="#contact" data-magnetic>Contact Us</a></li>
                        <li><a href="#" data-magnetic>Shipping & Returns</a></li>
                        <li><a href="#" data-magnetic>Warranty</a></li>
                    </ul>
                </div>
                 <div class="footer-column">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="#about" data-magnetic>About Us</a></li>
                        <li><a href="#" data-magnetic>Sustainability</a></li>
                        <li><a href="#" data-magnetic>Careers</a></li>
                        <li><a href="#" data-magnetic>Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 HydroBottles Co. All Rights Reserved. </p>
            </div>
        </div>
    </footer>
    
    <!-- Modals & Overlays -->
    <div class="modal-overlay" id="modal-overlay"></div>

    <!-- Quick View Modal -->
    <div class="modal" id="quick-view-modal">
        <div class="modal-header">
            <h3 id="quick-view-title">Product Title</h3>
            <button class="modal-close-btn" data-modal-id="quick-view-modal" aria-label="Close quick view" data-magnetic>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
            </button>
        </div>
        <div class="quick-view-body">
            <img src="" alt="" id="quick-view-img" class="quick-view-img">
            <div class="quick-view-details">
                <p id="quick-view-price">$0.00</p>
                <p id="quick-view-description">Product description goes here.</p>
                <button class="btn add-to-cart" id="quick-view-add-btn" data-magnetic>Add to Cart</button>
            </div>
        </div>
    </div>
    
    <!-- AI Recommender Modal -->
    <div class="modal" id="recommender-modal">
        <div class="modal-header">
            <h3>HydroBot 3000</h3>
             <button class="modal-close-btn" data-modal-id="recommender-modal" aria-label="Close recommender" data-magnetic>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
            </button>
        </div>
        <div class="recommender-body">
            <!-- Step 1 -->
            <div id="quiz-step-1" class="quiz-step active">
                <p class="quiz-question">What's your primary activity?</p>
                <div class="quiz-options">
                    <label><input type="radio" name="activity" value="sport"> <span>Gym & Sports</span></label>
                    <label><input type="radio" name="activity" value="daily"> <span>Daily Commute & Office</span></label>
                    <label><input type="radio" name="activity" value="home"> <span>At Home Use</span></label>
                </div>
                <div class="quiz-nav">
                    <button class="btn btn-secondary quiz-next-btn" data-next-step="2">Next</button>
                </div>
            </div>
            <!-- Step 2 -->
            <div id="quiz-step-2" class="quiz-step">
                <p class="quiz-question">What's more important to you?</p>
                <div class="quiz-options">
                    <label><input type="radio" name="priority" value="capacity"> <span>Large Capacity</span></label>
                    <label><input type="radio" name="priority" value="portability"> <span>Portability & Style</span></label>
                    <label><input type="radio" name="priority" value="hotcold"> <span>Keeping Drinks Hot</span></label>
                </div>
                <div class="quiz-nav">
                    <button class="btn quiz-prev-btn" data-prev-step="1">Back</button>
                    <button class="btn btn-secondary quiz-finish-btn">Get Recommendation</button>
                </div>
            </div>
            <!-- Result Step -->
            <div id="quiz-result" class="quiz-step">
                <h3>Our Recommendation For You:</h3>
                <h4 id="recommendation-title"></h4>
                <p id="recommendation-desc"></p>
                <a href="" id="recommendation-link" class="btn" data-magnetic>View Product</a>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Drawer -->
    <div class="cart-drawer" id="cart-drawer">
        <div class="cart-header">
            <h3>Your Cart</h3>
            <button class="close-cart-btn" id="close-cart-btn" aria-label="Close cart" data-magnetic>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
            </button>
        </div>
        <div class="cart-body">
            <ul class="cart-items-list" id="cart-items-list">
                <!-- Cart items will be injected here by JS -->
            </ul>
            <p class="cart-empty-message" id="cart-empty-message">Your cart is empty.</p>
        </div>
        <div class="cart-footer">
            <div class="cart-subtotal">
                <span>Subtotal</span>
                <span id="cart-subtotal">$0.00</span>
            </div>
            <button class="btn cart-checkout-btn" data-magnetic>Proceed to Checkout</button>
        </div>
    </div>
    
    <!-- Back to Top Button -->
    <a href="#home" class="back-to-top" aria-label="Back to top" data-magnetic>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const App = {
                // State
                cart: [],
                testimonialState: { currentIndex: 0 },
                customizerState: {
                    base: 'classic',
                    color: 'Sky Blue',
                    colorHex: '#ade8f4',
                    lid: 'standard',
                    engraving: '',
                    price: 24.99,
                    basePrice: 24.99,
                    lidPrice: 0,
                    engravingPrice: 5.00,
                },

                // Initialize all application features
                init() {
                    this.cacheDOMElements();
                    this.loadCart();
                    this.setupEventListeners();
                    this.setupIntersectionObserver();
                    this.updateCartUI();
                    this.initAnimations();
                    this.updateCustomizerPreview();
                },

                cacheDOMElements() {
                    this.dom = {
                        // Cart
                        cartDrawer: document.getElementById('cart-drawer'),
                        cartOverlay: document.getElementById('modal-overlay'), // Re-using overlay
                        cartItemsList: document.getElementById('cart-items-list'),
                        cartEmptyMessage: document.getElementById('cart-empty-message'),
                        cartSubtotalEl: document.getElementById('cart-subtotal'),
                        cartItemCountEl: document.getElementById('cart-item-count'),
                        
                        // Testimonials
                        testimonialSlider: document.querySelector('.testimonial-slider'),
                        testimonialSlides: document.querySelectorAll('.testimonial'),

                        // Customizer
                        previewImg: document.getElementById('preview-img'),
                        previewEngraving: document.getElementById('preview-engraving'),
                        customizerPrice: document.getElementById('customizer-price'),
                        engravingInput: document.getElementById('engraving-text'),

                        // Modals
                        modalOverlay: document.getElementById('modal-overlay'),

                        // Cursor
                        customCursor: document.querySelector('.custom-cursor'),
                        magneticElements: document.querySelectorAll('[data-magnetic]'),
                    };
                },

                // Centralized event listener setup
                setupEventListeners() {
                    // Clicks, delegated where possible
                    document.body.addEventListener('click', this.handleGlobalClick.bind(this));

                    // Inputs and change events
                    this.dom.engravingInput?.addEventListener('input', this.handleCustomizerEngraving.bind(this));

                    // Scroll and mouse movements
                    window.addEventListener('scroll', this.handleScroll.bind(this));
                    window.addEventListener('mousemove', this.handleMouseMove.bind(this));
                    window.addEventListener('mousedown', () => this.dom.customCursor.classList.add('clicked'));
                    window.addEventListener('mouseup', () => this.dom.customCursor.classList.remove('clicked'));

                    // Hover effects for cursor
                    document.querySelectorAll('a, button, .color-swatch, .faq-question, input, textarea, .quiz-options label')
                        .forEach(el => {
                            el.addEventListener('mouseenter', () => this.dom.customCursor.classList.add('hovered'));
                            el.addEventListener('mouseleave', () => this.dom.customCursor.classList.remove('hovered'));
                        });
                },

                // --- Global Event Handlers ---
                handleGlobalClick(e) {
                    const target = e.target;
                    
                    // Add to Cart
                    const addToCartBtn = target.closest('.add-to-cart');
                    if (addToCartBtn) {
                        this.handleAddToCart(addToCartBtn);
                        return;
                    }

                    // Color Swatch
                    const colorSwatch = target.closest('.color-swatch:not(.color-option)');
                    if (colorSwatch) {
                        this.handleColorSwatch(colorSwatch);
                        return;
                    }
                    
                    // Cart Drawer
                    if (target.closest('#open-cart-btn')) this.toggleCart();
                    if (target.closest('#close-cart-btn')) this.toggleCart();

                    // Cart Actions
                    if(target.closest('.cart-item')) this.handleCartActions(e);

                    // Testimonials
                    if (target.closest('#next-testimonial')) this.moveTestimonial(1);
                    if (target.closest('#prev-testimonial')) this.moveTestimonial(-1);

                    // FAQ
                    if (target.closest('.faq-question')) this.toggleFaq(target.closest('.faq-question'));

                    // Contact Form
                    if (target.closest('#contactForm button[type="submit"]')) this.handleContactForm(e);

                    // Modals
                    if (target.classList.contains('modal-overlay')) this.closeAllModals();
                    if (target.closest('.modal-close-btn')) this.closeModal(target.closest('.modal-close-btn').dataset.modalId);
                    if (target.closest('.quick-view-btn')) this.openQuickView(target.closest('.product-card'));
                    if (target.closest('#start-quiz-btn')) this.openModal('recommender-modal');
                    
                    // Recommender Quiz
                    const quizNextBtn = target.closest('.quiz-next-btn');
                    if(quizNextBtn) this.navigateQuiz(quizNextBtn.dataset.nextStep);
                    const quizPrevBtn = target.closest('.quiz-prev-btn');
                    if(quizPrevBtn) this.navigateQuiz(quizPrevBtn.dataset.prevStep);
                    if(target.closest('.quiz-finish-btn')) this.finishQuiz();

                    // Customizer
                    const customOptionBtn = target.closest('.customizer-options .option-btn');
                    if(customOptionBtn) this.handleCustomizerOption(customOptionBtn);
                    if(target.closest('#add-custom-to-cart')) this.addCustomBottleToCart();
                },

                handleScroll() {
                    this.toggleBackToTopButton();
                },
                
                handleMouseMove(e) {
                    if (this.dom.customCursor) {
                        this.dom.customCursor.style.left = `${e.clientX}px`;
                        this.dom.customCursor.style.top = `${e.clientY}px`;
                    }
                    this.handleMagneticElements(e.clientX, e.clientY);
                },

                // --- Cart Logic ---
                handleAddToCart(button) {
                    const productCard = button.closest('.product-card') || button.closest('#quick-view-modal');
                    const id = productCard.dataset.id;
                    const name = productCard.dataset.name || document.getElementById('quick-view-title').textContent;
                    const price = parseFloat(productCard.dataset.price) || parseFloat(document.getElementById('quick-view-price').textContent.replace('$', ''));
                    const imgEl = productCard.querySelector('.product-img, #quick-view-img');
                    const img = imgEl.src;
                    
                    const activeColorSwatch = productCard.querySelector('.color-swatch.active');
                    const color = activeColorSwatch ? activeColorSwatch.style.backgroundColor : 'default';
                    
                    const uniqueId = `${id}-${color}`;

                    this.addToCart({ id: uniqueId, name, price, img, color, quantity: 1, details: 'Standard'});
                },

                addToCart(item) {
                    const existingItem = this.cart.find(cartItem => cartItem.id === item.id);
                    if (existingItem) {
                        existingItem.quantity++;
                    } else {
                        this.cart.push(item);
                    }
                    this.saveCart();
                    this.updateCartUI();
                    this.showNotification(`${item.name} added to cart!`);
                    if (!this.dom.cartDrawer.classList.contains('open')) {
                         this.toggleCart();
                    }
                },
                
                handleCartActions(e) {
                    const target = e.target;
                    const cartItemEl = target.closest('.cart-item');
                    if (!cartItemEl) return;
                    
                    const itemId = cartItemEl.dataset.itemId;
                    
                    if (target.classList.contains('quantity-btn-plus')) this.updateQuantity(itemId, 1);
                    else if (target.classList.contains('quantity-btn-minus')) this.updateQuantity(itemId, -1);
                    else if (target.classList.contains('cart-item-remove-btn')) this.removeFromCart(itemId);
                },
                
                updateQuantity(itemId, change) {
                    const item = this.cart.find(cartItem => cartItem.id === itemId);
                    if (item) {
                        item.quantity += change;
                        if (item.quantity <= 0) {
                            this.removeFromCart(itemId);
                        } else {
                            this.saveCart();
                            this.updateCartUI();
                        }
                    }
                },
                
                removeFromCart(itemId) {
                    this.cart = this.cart.filter(item => item.id !== itemId);
                    this.saveCart();
                    this.updateCartUI();
                },

                saveCart() { localStorage.setItem('hydroCart', JSON.stringify(this.cart)); },
                loadCart() { this.cart = JSON.parse(localStorage.getItem('hydroCart')) || []; },

                // --- UI Update Logic ---
                updateCartUI() {
                    this.dom.cartItemsList.innerHTML = '';
                    let subtotal = 0;
                    let totalItems = 0;

                    if (this.cart.length === 0) {
                        this.dom.cartEmptyMessage.style.display = 'block';
                    } else {
                        this.dom.cartEmptyMessage.style.display = 'none';
                        this.cart.forEach(item => {
                            const li = document.createElement('li');
                            li.className = 'cart-item';
                            li.dataset.itemId = item.id;
                            
                            li.innerHTML = `
                                <img src="${item.img}" alt="${item.name}" class="cart-item-img">
                                <div class="cart-item-info">
                                    <span class="cart-item-title">${item.name}</span>
                                    <p class="cart-item-details">${item.details}</p>
                                    <span class="cart-item-price">$${item.price.toFixed(2)}</span>
                                    <div class="cart-item-quantity">
                                        <button class="quantity-btn quantity-btn-minus" aria-label="Decrease quantity">-</button>
                                        <span class="item-quantity">${item.quantity}</span>
                                        <button class="quantity-btn quantity-btn-plus" aria-label="Increase quantity">+</button>
                                    </div>
                                </div>
                                <button class="cart-item-remove-btn">Remove</button>
                            `;
                            this.dom.cartItemsList.appendChild(li);
                            subtotal += item.price * item.quantity;
                            totalItems += item.quantity;
                        });
                    }

                    this.dom.cartSubtotalEl.textContent = `$${subtotal.toFixed(2)}`;
                    this.dom.cartItemCountEl.textContent = totalItems;
                    this.dom.cartItemCountEl.style.display = totalItems > 0 ? 'flex' : 'none';
                },

                toggleCart() {
                    const isOpen = this.dom.cartDrawer.classList.toggle('open');
                    this.dom.modalOverlay.classList.toggle('open', isOpen);
                    document.body.style.overflow = isOpen ? 'hidden' : '';
                },

                showNotification(message, type = 'success') {
                    // A simple console log, could be replaced with a toast notification library
                    console.log(`[${type.toUpperCase()}] ${message}`);
                    // For a more visual effect, you could create a temporary div and append it to the body.
                },

                // --- Product Customizer ---
                handleCustomizerOption(button) {
                    const group = button.parentElement;
                    const type = group.id.split('-')[1];

                    group.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    switch(type) {
                        case 'base':
                            this.customizerState.base = button.dataset.value;
                            this.customizerState.basePrice = parseFloat(button.dataset.price);
                            break;
                        case 'color':
                            this.customizerState.color = button.dataset.value;
                            this.customizerState.colorHex = button.dataset.colorHex;
                            break;
                        case 'lid':
                            this.customizerState.lid = button.dataset.value;
                            this.customizerState.lidPrice = parseFloat(button.dataset.price);
                            break;
                    }
                    this.updateCustomizerPreview();
                },

                handleCustomizerEngraving(e) {
                    this.customizerState.engraving = e.target.value;
                    this.updateCustomizerPreview();
                },

                updateCustomizerPreview() {
                    const { base, color, colorHex, lid, engraving } = this.customizerState;
                    const textParam = base.charAt(0).toUpperCase() + base.slice(1);
                    this.dom.previewImg.src = `https://placehold.co/400x500/${colorHex.substring(1)}/023e8a?text=${textParam}`;
                    this.dom.previewEngraving.textContent = engraving;
                    this.calculateCustomPrice();
                },

                calculateCustomPrice() {
                    let total = this.customizerState.basePrice + this.customizerState.lidPrice;
                    if(this.customizerState.engraving.trim() !== '') {
                        total += this.customizerState.engravingPrice;
                    }
                    this.customizerState.price = total;
                    this.dom.customizerPrice.textContent = `$${total.toFixed(2)}`;
                },

                addCustomBottleToCart() {
                    const { base, color, lid, engraving, price } = this.customizerState;
                    const name = `Custom ${base.charAt(0).toUpperCase() + base.slice(1)} Bottle`;
                    let details = `Color: ${color}, Lid: ${lid}`;
                    if(engraving) details += `, Engraving: "${engraving}"`;
                    
                    const item = {
                        id: `custom-${Date.now()}`,
                        name: name,
                        price: price,
                        img: this.dom.previewImg.src,
                        quantity: 1,
                        details: details,
                    };
                    this.addToCart(item);
                },

                // --- AI Recommender Quiz ---
                navigateQuiz(step) {
                    document.querySelectorAll('.quiz-step').forEach(s => s.classList.remove('active'));
                    document.getElementById(`quiz-step-${step}`).classList.add('active');
                },

                finishQuiz() {
                    const activity = document.querySelector('input[name="activity"]:checked')?.value;
                    const priority = document.querySelector('input[name="priority"]:checked')?.value;
                    let recommendationId;

                    if(activity === 'sport' || priority === 'capacity') {
                        recommendationId = '2'; // Sport Bottle Pro
                    } else if(priority === 'hotcold') {
                        recommendationId = '3'; // Insulated Traveler
                    } else if (activity === 'daily' || priority === 'portability') {
                        recommendationId = '6'; // Urban Sleek Bottle
                    } else {
                        recommendationId = '1'; // Classic
                    }
                    
                    const recommendedProduct = document.querySelector(`.product-card[data-id='${recommendationId}']`);
                    document.getElementById('recommendation-title').textContent = recommendedProduct.dataset.name;
                    document.getElementById('recommendation-desc').textContent = recommendedProduct.querySelector('.product-description').textContent;
                    const recommendationLink = document.getElementById('recommendation-link');
                    recommendationLink.href = `#products`; // or a direct product page link
                    recommendationLink.onclick = () => {
                        this.closeAllModals();
                        recommendedProduct.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        recommendedProduct.style.boxShadow = '0 0 20px var(--accent-success)';
                        setTimeout(() => recommendedProduct.style.boxShadow = '', 2000);
                    };

                    this.navigateQuiz('result');
                },

                // --- Modals ---
                openModal(modalId) {
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        this.dom.modalOverlay.classList.add('open');
                        modal.classList.add('open');
                        document.body.style.overflow = 'hidden';
                    }
                },

                closeModal(modalId) {
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        this.dom.modalOverlay.classList.remove('open');
                        modal.classList.remove('open');
                        // Only restore scroll if no other modal/drawer is open
                        if (!this.dom.cartDrawer.classList.contains('open')) {
                            document.body.style.overflow = '';
                        }
                    }
                },
                
                closeAllModals() {
                    document.querySelectorAll('.modal.open').forEach(m => this.closeModal(m.id));
                },

                openQuickView(productCard) {
                    document.getElementById('quick-view-title').textContent = productCard.dataset.name;
                    document.getElementById('quick-view-price').textContent = `$${productCard.dataset.price}`;
                    document.getElementById('quick-view-description').textContent = productCard.querySelector('.product-description').textContent;
                    document.getElementById('quick-view-img').src = productCard.querySelector('.product-img').src;
                    
                    const quickViewModal = document.getElementById('quick-view-modal');
                    quickViewModal.dataset.id = productCard.dataset.id;
                    quickViewModal.dataset.name = productCard.dataset.name;
                    quickViewModal.dataset.price = productCard.dataset.price;

                    this.openModal('quick-view-modal');
                },

                // --- Other Page Features ---
                handleColorSwatch(swatch) {
                    const productCard = swatch.closest('.product-card');
                    const productImg = productCard.querySelector('.product-img');
                    const colorMap = JSON.parse(productImg.dataset.colors);
                    const selectedColor = swatch.dataset.color;
                    
                    if (colorMap[selectedColor]) productImg.src = colorMap[selectedColor];
                    
                    productCard.querySelectorAll('.color-swatch').forEach(s => s.classList.remove('active'));
                    swatch.classList.add('active');
                },
                
                moveTestimonial(direction) {
                    const totalSlides = this.dom.testimonialSlides.length;
                    this.testimonialState.currentIndex = (this.testimonialState.currentIndex + direction + totalSlides) % totalSlides;
                    this.dom.testimonialSlider.style.transform = `translateX(-${this.testimonialState.currentIndex * 100}%)`;
                },
                
                toggleFaq(questionButton) {
                    const item = questionButton.closest('.faq-item');
                    const answer = item.querySelector('.faq-answer');
                    const icon = item.querySelector('.faq-icon');
                    const isActive = item.classList.contains('active');
                    
                    // Close all others
                    document.querySelectorAll('.faq-item.active').forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                            otherItem.querySelector('.faq-answer').style.maxHeight = null;
                            otherItem.querySelector('.faq-icon').style.transform = 'rotate(0deg)';
                        }
                    });
                    
                    item.classList.toggle('active');
                    if (item.classList.contains('active')) {
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                        icon.style.transform = 'rotate(135deg)';
                    } else {
                        answer.style.maxHeight = null;
                        icon.style.transform = 'rotate(0deg)';
                    }
                },
                
                handleContactForm(e) {
                    e.preventDefault();
                    this.showNotification('Thank you for your message! We will get back to you soon.');
                    e.target.closest('form').reset();
                },

                toggleBackToTopButton() {
                    const button = document.querySelector('.back-to-top');
                    if (window.scrollY > 300) button.classList.add('visible');
                    else button.classList.remove('visible');
                },
                
                // --- Animations & Effects ---
                initAnimations() {
                    // Hero Text Animation
                    const title = document.querySelector('.hero-title-container');
                    if (title) {
                        title.innerHTML = title.textContent.split('').map(char => `<span class="char">${char === ' ' ? '&nbsp;' : char}</span>`).join('');
                        setTimeout(() => {
                           title.querySelectorAll('.char').forEach((char, i) => {
                               setTimeout(() => {
                                   char.style.opacity = '1';
                                   char.style.transform = 'translateY(0) rotate(0)';
                               }, i * 30);
                           });
                        }, 500);
                    }
                },
                
                handleMagneticElements(mouseX, mouseY) {
                    this.dom.magneticElements.forEach(el => {
                        const rect = el.getBoundingClientRect();
                        const x = rect.left + rect.width / 2;
                        const y = rect.top + rect.height / 2;
                        
                        const distance = Math.sqrt(Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2));
                        
                        if (distance < 100) { // activation distance
                            const dx = (mouseX - x) * 0.2;
                            const dy = (mouseY - y) * 0.2;
                            el.style.transform = `translate(${dx}px, ${dy}px)`;
                        } else {
                            el.style.transform = 'translate(0, 0)';
                        }
                    });
                },

                setupIntersectionObserver() {
                    const observer = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('visible');
                                observer.unobserve(entry.target);
                            }
                        });
                    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

                    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
                }
            };

            App.init();
        });
    </script>
</body>
</html>
   
